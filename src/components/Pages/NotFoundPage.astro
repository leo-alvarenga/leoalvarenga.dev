---
import { Image } from "astro:assets";

import { getLangFromUrl, useTranslation, type Language } from "../../config";
import BasicLayout from "../../layouts/BasicLayout.astro";
import { getRandomImage } from "../../utils";

interface Props {
  language?: Language;
}

const [language] = getLangFromUrl(Astro.url);
const { t } = useTranslation({ language });

const image = getRandomImage("NOT_FOUND");
---

<BasicLayout className="gap-8" pageTitle={t("404.meta.title")}>
  <div class="flex flex-col items-center gap-8 mt-12 mb-16 md:my-0">
    <hgroup class="flex flex-col items-center gap-4 text-center">
      <h1 class="text-2xl md:text-4xl font-bold">{t("404.title")}</h1>

      <h4 class="text-lg md:text-xl">
        {t("404.description")}
      </h4>
    </hgroup>
  </div>

  <Image alt="Not found" class="md:h-72" src={image} />

  <a
    class={`
      flex gap-4 px-4 py-2
      items-center bg-crust group
      rounded-lg border border-mauve
      duration:500 transition-all
      hover:bg-base
    `}
    href="/"
  >
    <i class="fa-solid fa-arrow-left"></i>
    <span class="group-hover:underline">{t("404.redirect")}</span>

    <i
      class={`
        fa-solid fa-shuttle-space -rotate-180
        max-w-0 overflow-hidden group-hover:max-w-8
        duration-500 transition-all animate-blink
      `}></i>
  </a>
</BasicLayout>
